/*!
 * Bez v1.0.10-g5ae0136
 * http://github.com/rdallasgray/bez
 * 
 * A plugin to convert CSS3 cubic-bezier co-ordinates to jQuery-compatible easing functions
 * 
 * With thanks to Nikolay Nemshilov for clarification on the cubic-bezier maths
 * See http://st-on-it.blogspot.com/2011/05/calculating-cubic-bezier-function.html
 * 
 * Copyright 2011 Robert Dallas Gray. All rights reserved.
 * Provided under the FreeBSD license: https://github.com/rdallasgray/bez/blob/master/LICENSE.txt
*/jQuery.extend({bez:function(a){var b="bez_"+$.makeArray(arguments).join("_").replace(".","p");if(typeof jQuery.easing[b]!="function"){var c=function(a,b){var c=[null,null],d=[null,null],e=[null,null],f=function(f,g){return e[g]=3*a[g],d[g]=3*(b[g]-a[g])-e[g],c[g]=1-e[g]-d[g],f*(e[g]+f*(d[g]+f*c[g]))},g=function(a){return e[0]+a*(2*d[0]+3*c[0]*a)},h=function(a){var b=a,c=0,d;while(++c<14){d=f(b,0)-a;if(Math.abs(d)<.001)break;b-=d/g(b)}return b};return function(a){return f(h(a),1)}};jQuery.easing[b]=function(b,d,e,f,g){return f*c([a[0],a[1]],[a[2],a[3]])(d/g)+e}}return b}});
/*!
 * Roto v1.3.8-g3b36ea1
 * http://github.com/rdallasgray/roto
 * 
 * A simple, flexible, touch-capable scrolling plugin for jQuery
 * 
 * Copyright 2012 Robert Dallas Gray. All rights reserved.
 * Provided under the FreeBSD license: https://github.com/rdallasgray/roto/blob/master/LICENSE.txt
 */(function(a,b,c,d){a.fn.roto=function(e){var f={rotoSelector:".rotoFrame",btnPrev:".prev",btnNext:".next",btnAction:"shift",direction:"h",shift_duration:200,shift_bezier:[0,0,0,1],drift_duration:1800,drift_factor:500,drift_bezier:[0,0,.3,1],bounce_duration:400,bounce_bezier:[0,.5,.5,1],pull_divisor:1.7,timer_interval:50,disable_transitions:!1,startOffset:0,endOffset:0,snap:!0,snap_buffer:.5,setTestVars:!1},e=a.extend(f,e||{}),g=1e3,h="client",i=function(){try{return c.createEvent("TouchEvent"),!0}catch(a){return!1}}(),j=i?{start:"touchstart",move:"touchmove",end:"touchend"}:{start:"mousedown",move:"mousemove",end:"mouseup"},k=function(a){return i&&typeof a.originalEvent.touches!="undefined"?a.originalEvent.touches[0]:a},l={h:{measure:"Width",offsetName:"left",coOrd:"X",opp:"v"},v:{measure:"Height",offsetName:"top",coOrd:"Y",opp:"h"}},m=l[e.direction],n=null,o=null,p=null,q=null;if(!e.disable_transitions){var r=c.body||c.documentElement,s={transform:"transform",MozTransform:"-moz-transform",WebkitTransform:"-webkit-transform"},t={transition:{prop:"transition",event:"transitionend"},MozTransition:{prop:"-moz-transition",event:"transitionend"},WebkitTransition:{prop:"-webkit-transition",event:"webkitTransitionEnd"}};for(var u in s)if(typeof r.style[u]!="undefined"){n=s[u];break}for(var u in t)if(typeof r.style[u]!="undefined"){o=t[u].prop,p=t[u].event;break}}var v=o!==null;return this.each(function(){var q=a(this),r=q.children(e.rotoSelector).length>0?q.children(e.rotoSelector).first():q.children("ul").length>0?q.children("ul").first():q.children().first(),s=r.children(),t=0,u=0,w=0,x=0,y=-1,z=0,A=0,B=typeof q.attr("id")!==d?q.attr("id"):"roto"+(new Date).getTime(),C=null,D=null,E={ready:"ready",tracking:"tracking",drifting:"drifting",shifting:"shifting",bouncing:"bouncing"},F=E.ready,G=!1,H=q.find(e.btnPrev),I=q.find(e.btnNext),J=null,K=function(b,c,f,h){var i=h,j=e[f+"_duration"];if(!G||!v)i=function(){W(),h()},G=!0;if(v){var k=M();k.timingFunction[f]===d&&(k.timingFunction[f]=["cubic-bezier(",e[f+"_bezier"].join(","),")"].join(""));var l={};l[k.durationProp]=j/g+"s",l[k.timingFunctionProp]=D.timingFunction[f],b.css(l),b.data("animationCallback",i),b.unbind(p),b.one(p,function(){b.data("animationCallback",null),i()}),b.css(c)}else b.animate(c,j,a.bez(e[f+"_bezier"]),i)},L=function(a){if(v){var b=O();a.unbind(p),a.css(N(b)),typeof a.data("animationCallback")=="function"&&(a.data("animationCallback")(),a.data("animationCallback",null))}else a.stop()},M=function(){return D===null&&(D={durationProp:o+"-duration",timingFunctionProp:o+"-timing-function",timingFunction:{}}),D},N=function(a){var b={};if(v){if(C===null){var c=i?"3d":"",d=c==="3d"?"(Xpx,Ypx,0px)":"(Xpx,Ypx)",e=l[m.opp].coOrd;C=["translate",c,d.replace(e,"0")].join("")}b[n]=C.replace(m.coOrd,a)}else b[m.offsetName]=a+"px";return b},O=function(){var a;if(!v)a=r.position()[m.offsetName]-t;else{var b=r.css(n);if(b==="none")return 0;var c=b.match(/\-?[0-9]+/g),d=m.coOrd==="X"?c[4]:c[5];a=parseInt(d)}return a-e.startOffset},P=function(b,c){var d=0,e,f,g=c>0?s.get().reverse():s,h,i,j="outer"+m.measure;return a.each(g,function(g,k){i=a(k),d=-1*Math.ceil(i.position()[m.offsetName]),h=k;if(d*c>=b*c)return!1;c<0?(e=-1*d+i[j](!0),f=-1*b):(e=i.prev().length>0?d+i.prev()[j](!0):d,f=b);if(e>f)return!1}),[h,d]},Q=function(b,c){var d=c<0?"next":"prev",e=a(P(b,c)[0]),f=e;while(f[d]().length>0&&f.position()[m.offsetName]===e.position()[m.offsetName])f=f[d]();return f},R=function(a,b,c){var b=b===0?y:b;return c?-1*Math.ceil(Q(a,b).position()[m.offsetName]):P(a,b)[1]},S=function(){var a=O();return a===R(a,y,!1)},T=function(){A=0,s=r.children(),s.css({display:"block","float":"left"});if(e.direction==="h")s.each(function(b,c){A+=Math.ceil(a(c)["outer"+m.measure](!0))}),r[m.measure.toLowerCase()](A);else{var b=a(s.last());A=Math.round(b.position()[m.offsetName]+b["outer"+m.measure](!0))}z=Math.ceil(q[m.measure.toLowerCase()]()),w=-1*Math.ceil(A-z+t+e.endOffset);if(e.snap){var c=R(w,-1,!1);w=c>w?R(w,-1,!0):c}},U=function(){return J===null&&(J=typeof H=="object"&&typeof H.click=="function"&&typeof I=="object"&&typeof I.click=="function"),J},V=function(){if(!U())return;var a=O();a>w?I.removeAttr("disabled"):I.attr("disabled","disabled"),a<u?H.removeAttr("disabled"):H.attr("disabled","disabled")},W=function(){q.trigger("rotoChange",[P(O(),1)[0]]),G=!1},X=function(a){var b=typeof a,c;switch(b){case"number":Y(a);break;case"object":Z(a);break;case"string":(c=a.match(/(-?[0-9]+)(px$)/))?ba(parseInt(c[1])):(c=a.match(/prev|next/))&&_(a)}},Y=function(b){if(b<0||b>=s.length)return;var c=a(s.get(b));Z(c)},Z=function(b){var c=a(b);if(!c.parent()===r)return;ba(-1*c.position()[m.offsetName])},_=function(a){var b=a==="prev"?1:-1;Z(Q(O(),b))},ba=function(a,b){b=b||"shift",a>u?a=u:a<w&&(a=w),a+=e.startOffset,K(r,N(a),b,function(){V(),F=E.ready})},bb=function(a){if(F===E.shifting)return;var b=0;F=E.shifting,y=a,a<0?b=Math.max(R(O()-(z-e.startOffset),a,!1),w):b=Math.min(R(O()+(z-e.startOffset),a,!1),u),ba(b)},bc=function(a){var b=a<0?"next":"prev";_(b)},bd=function(a){var b=Math.ceil(a+x),c;if(b<u&&b>w)c=b;else var d=b>=u?b-u:b-w,c=b-d/e.pull_divisor;if(F!==E.tracking){var f={},g=M();f[g.durationProp]="0s",f[g.timingFunctionProp]="none",r.css(f)}F=E.tracking,r.css(N(c))},be=function(){var a=bh.getPointerSpeed(),b=a[0],c=a[1],d=O(),f=b*e.drift_factor*c,g=f+d;g>u?g=u:g<w?g=w:e.snap&&!S()&&(g=R(g,c,!0));if(g===d){W();return}F=E.drifting,ba(g,"drift")},bf=function(a){var b=a<0?w:u;F=E.bouncing,ba(b,"bounce")},bg=e.btnAction==="shift"?bb:bc,bh=function(){var a=0,c=0,d=0,f=null,g={startCoOrd:0,endCoOrd:0};return{start:function(){d=a=c,f=b.setInterval(function(){g.startCoOrd=a,g.endCoOrd=c,a=c},e.timer_interval)},stop:function(){clearInterval(f),g.endCoOrd=c},getPointerSpeed:function(){var a=g.endCoOrd-g.startCoOrd,b=Math.abs(a),c=b/e.timer_interval,f=a===0?g.endCoOrd-d:a,h=f<=0?f===0?0:-1:1;return h!==0&&(y=h),[c,h]},setCurrentCoOrd:function(a){c=a}}}(),bi=function(){T(),V(),e.setTestVars&&bj()},bj=function(){q.data({options:e,nextButton:I,prevButton:H})};r.bind(j.start+".roto-"+B,function(e){var f=F;x=O(),L(r);var g=r.find("a"),l={},n=h+m.coOrd,o=!1;f!==E.drifting&&g.unbind("click.roto-trackclick-"+B),F=E.ready,i||(e.target.draggable&&e.preventDefault(),c.ondragstart!==d&&r.find("a, img").one("dragstart.roto-"+B,function(a){a.preventDefault()}),g.length>0&&a(c).one(j.move+".roto-"+B,function(b){g.data("events")!==d&&(a.each(g.data("events"),function(b,c){l[b]=[],a.each(c,function(a,c){c.namespace!=="roto-"+B&&l[b].push(c)})}),g.unbind(),o=!0),g.bind("click.roto-trackclick-"+B,function(a){a.preventDefault()})})),e=k(e);var p=e[n];bh.setCurrentCoOrd(p),a(c).bind(j.move+".roto-"+B,function(a){a.preventDefault(),a=k(a),bh.setCurrentCoOrd(a[n]),bd(a[n]-p)}),a(c).bind(j.end+".roto-"+B,function(){bh.stop();var d=O();d>u||d<w?bf(O()-u):be(),a(c).unbind(j.move+".roto-"+B),b.setTimeout(function(){o&&a.each(l,function(b,c){a.each(c,function(a,b){var c=b.type;b.namespace!==""&&(c=[c,".",b.namespace].join("")),g.bind(c,b.data,b.handler)})})},250),a(this).unbind()}),bh.start()}),H.length===0&&e.btnPrev===f.btnPrev&&q.attr("id")&&(H=a("#"+q.attr("id")+"-prev"),I=a("#"+q.attr("id")+"-next")),U()&&(H.click(function(){return bg(1)}),I.click(function(){return bg(-1)})),a(b).resize(function(){bi()}),o==="-webkit-transition"&&r.css("-webkit-backface-visibility","hidden"),q.css({display:"block",overflow:"hidden",position:"relative"}),r.css({position:"relative",padding:0,margin:0}),q.bind("rotoGoto",function(a,b){X(b)}),q.bind("rotoShift",function(a,b){bb(b)}),q.bind("rotoContentChange",function(){bi()}),bi(),e.startOffset!==0&&(r.css(N(e.startOffset)),V()),t=Math.ceil(r.position()[m.offsetName]),t!==e.startOffset&&T()})}})(jQuery,window,document);
